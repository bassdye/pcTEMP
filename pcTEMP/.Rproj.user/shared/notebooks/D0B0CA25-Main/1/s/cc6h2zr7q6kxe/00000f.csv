"0","# Second step - Apply combined_rows function again to sum total count over all experiments"
"0","non_gradient_count <- combined_rows(non_gradient_separate)"
"0","acute_count <- combined_rows(acute_separate)"
"0","final_count <- combined_rows(final_separate)"
"0",""
"0","# Calculate total missing counts (i.e. Ethovision tracking error)"
"0","if(exists(""number_treatments"")) {"
"0","  for(i in 1:length(treatments)) {"
"0","  non_gradient_treatment_count <- combined_rows(non_gradient_separate[str_detect(names(non_gradient_separate), treatments[i])])"
"0","  non_gradient_treatment_total_count <- sum(non_gradient_treatment_count[,zones_1_8])"
"0","  non_gradient_treatment_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases / length(treatments))) - non_gradient_treatment_total_count"
"0","  non_gradient_treatment_percent_missed <- 100 * non_gradient_treatment_missing_counts / non_gradient_treatment_total_count; "
"0","  "
"0","  print(paste(round(non_gradient_treatment_percent_missed, digits = 2), ""% missed tracks during non-gradient phase,"", treatments[i],""treatment"", sep = "" ""))"
"0","  }"
"0","  "
"0","  for(i in 1:length(treatments)) {"
"0","    acute_treatment_count <- combined_rows(acute_separate[str_detect(names(acute_separate), treatments[i])])"
"0","    acute_treatment_total_count <- sum(acute_treatment_count[,zones_1_8])"
"0","    acute_treatment_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases / length(treatments))) - acute_treatment_total_count"
"0","    acute_treatment_percent_missed <- 100 * acute_treatment_missing_counts / acute_treatment_total_count; "
"0","    "
"0","    print(paste(round(acute_treatment_percent_missed, digits = 2), ""% missed tracks during acute phase,"", treatments[i],""treatment"", sep = "" ""))"
"0","  }"
"0","  "
"0","  for(i in 1:length(treatments)) {"
"0","    final_treatment_count <- combined_rows(final_separate[str_detect(names(final_separate), treatments[i])])"
"0","    final_treatment_total_count <- sum(final_treatment_count[,zones_1_8])"
"0","    final_treatment_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases / length(treatments))) - final_treatment_total_count"
"0","    final_treatment_percent_missed <- 100 * final_treatment_missing_counts / final_treatment_total_count; "
"0","    "
"0","    print(paste(round(final_treatment_percent_missed, digits = 2), ""% missed tracks during final phase,"", treatments[i],""treatment"", sep = "" ""))"
"0","  }"
"0","  "
"0","  non_gradient_total_count <- sum(non_gradient_count[,zones_1_8])"
"0","  non_gradient_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases)) - non_gradient_total_count"
"0","  non_gradient_percent_missed <- 100 * non_gradient_missing_counts / non_gradient_total_count; "
"0","  print(paste(round(non_gradient_percent_missed, digits = 2), ""% missed tracks during non-gradient phase"", sep = "" ""))"
"0","  "
"0","  acute_total_count <- sum(acute_count[,zones_1_8])"
"0","  acute_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases)) - acute_total_count"
"0","  acute_percent_missed <- 100 * acute_missing_counts / acute_total_count; "
"0","  print(paste(round(acute_percent_missed, digits = 2), ""% missed tracks during acute phase"", sep = "" ""))"
"0","  "
"0","  final_total_count <- sum(final_count[,zones_1_8])"
"0","  final_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases)) - final_total_count"
"0","  final_percent_missed <- 100 * final_missing_counts / final_total_count; "
"0","  print(paste(round(final_percent_missed, digits = 2), ""% missed tracks during final phase"", sep = "" "")) "
"0","  "
"0","} else {"
"0","  non_gradient_total_count <- sum(non_gradient_count[,zones_1_8])"
"0","  non_gradient_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases)) - non_gradient_total_count"
"0","  non_gradient_percent_missed <- 100 * non_gradient_missing_counts / non_gradient_total_count; "
"0","  print(paste(round(non_gradient_percent_missed, digits = 2), ""% missed tracks during non-gradient phase"", sep = "" ""))"
"0","  "
"0","  acute_total_count <- sum(acute_count[,zones_1_8])"
"0","  acute_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases)) - acute_total_count"
"0","  acute_percent_missed <- 100 * acute_missing_counts / acute_total_count; "
"0","  print(paste(round(acute_percent_missed, digits = 2), ""% missed tracks during acute phase"", sep = "" ""))"
"0","  "
"0","  final_total_count <- sum(final_count[,zones_1_8])"
"0","  final_missing_counts <-  (number_subjects * track_freq * length_phase * (nrow(prop_dat) / number_phases)) - final_total_count"
"0","  final_percent_missed <- 100 * final_missing_counts / final_total_count; "
"0","  print(paste(round(final_percent_missed, digits = 2), ""% missed tracks during final phase"", sep = "" "")) "
"0","}"
"1","[1]"
"1"," ""4.14 % missed tracks during non-gradient phase, high treatment"""
"1","
"
"1","[1]"
"1"," ""9.85 % missed tracks during non-gradient phase, low treatment"""
"1","
"
"1","[1]"
"1"," ""6.33 % missed tracks during acute phase, high treatment"""
"1","
"
"1","[1]"
"1"," ""13.6 % missed tracks during acute phase, low treatment"""
"1","
"
"1","[1]"
"1"," ""13.07 % missed tracks during final phase, high treatment"""
"1","
"
"1","[1]"
"1"," ""21.45 % missed tracks during final phase, low treatment"""
"1","
"
"1","[1]"
"1"," ""6.92 % missed tracks during non-gradient phase"""
"1","
"
"1","[1]"
"1"," ""9.85 % missed tracks during acute phase"""
"1","
"
"1","[1]"
"1"," ""17.11 % missed tracks during final phase"""
"1","
"
